(function(e){function t(t){for(var r,c,u=t[0],i=t[1],o=t[2],_=0,f=[];_<u.length;_++)c=u[_],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c18":function(e,t,n){},"0cea":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_cloud_music_cloud_music_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2909"),_home_runner_work_cloud_music_cloud_music_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__["a"]={name:"PlayList",props:["requestName","searchVal"],data:function(){return{list:[],loading:!1,finished:!1,musicList:[],offset:0}},watch:{searchVal:function(e,t){this.musicList=[],this.offset=0,this.onLoad()}},methods:{onLoad:function onLoad(){var _this2=this;return Object(_home_runner_work_cloud_music_cloud_music_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function _callee(){var _this;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this=_this2,eval("_this.$ajax.".concat(_this.requestName,"('").concat(_this.searchVal,"', '").concat(_this.offset,"')")).then((function(e){var t;(t=_this2.musicList).push.apply(t,Object(_home_runner_work_cloud_music_cloud_music_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(e.list)),_this2.loading=!1,_this2.offset=_this2.offset+20,e.hasMore?_this2.finished=!1:_this2.finished=!0}));case 2:case"end":return _context.stop()}}),_callee)})))()}}}},2395:function(e,t,n){},3148:function(e,t,n){"use strict";n("82ce")},"50ed":function(e,t,n){"use strict";n("933a")},"56d7":function(e,t,n){"use strict";n.r(t);n("c625");var r=n("b650"),a=(n("558f"),n("0b33")),s=(n("8990"),n("5e46")),c=(n("1318"),n("ac28")),u=(n("4627"),n("2ed4")),i=(n("3cc4"),n("5596")),o=(n("8d12"),n("2bb1")),l=(n("6e75"),n("343b")),_=(n("4072"),n("2830")),f=(n("a035"),n("21ab")),h=(n("2a53"),n("34e9")),p=(n("bf24"),n("44bf")),m=(n("93b0"),n("2bdd")),d=(n("3ec1"),n("7744")),g=(n("b342"),n("ad06")),v=(n("1fe9"),n("d961")),b=(n("4071"),n("a3e2")),w=(n("47d1"),n("9ffb")),y=(n("4bc8"),n("d1e1")),x=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},k=[],j={name:"App"},R=j,E=(n("7c55"),n("2877")),L=Object(E["a"])(R,O,k,!1,null,null,null),M=L.exports,S=n("8c4f"),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home"}},[n("Header"),n("van-tabs",{attrs:{animated:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:"推荐音乐"}},[n("Rec")],1),n("van-tab",{attrs:{title:"热歌榜"}},[n("Toplist")],1),n("van-tab",{attrs:{title:"搜索"}},[n("Search")],1)],1),n("Tabbar")],1)},T=[],C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"header"}},[r("img",{staticClass:"logo",attrs:{src:n("6b8a"),alt:"logo"}})])}],$={name:"Header"},N=$,A=(n("50ed"),Object(E["a"])(N,C,D,!1,null,"6997c444",null)),I=A.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"footer"}},[e._v(" this is footer ")])},B=[],U={name:"Footer"},H=U,K=Object(E["a"])(H,q,B,!1,null,"f47942ec",null),W=K.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"rec"}},[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},e._l(e.banners,(function(e){return n("van-swipe-item",{key:"banner-"+e.bannerId},[n("img",{attrs:{src:e.pic,alt:""}})])})),1),n("van-cell-group",{attrs:{title:"推荐歌单"}},[n("van-grid",{attrs:{"column-num":3,border:!1}},e._l(e.recMusicList,(function(t){return n("van-grid-item",{key:t.id,attrs:{to:"/playlist?id="+t.id}},[n("van-image",{attrs:{"show-loading":"",src:t.picUrl}}),n("span",{staticClass:"rec-music-list-name"},[e._v(e._s(t.name.slice(0,18))+"...")])],1)})),1)],1),n("van-cell-group",{attrs:{title:"最新音乐"}},[n("PlayList",{attrs:{requestName:"getLatstMusicList"}})],1)],1)},F=[],V=n("1da1"),G=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"playList"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.musicList,(function(t){return n("van-cell",{key:"list-"+t.id,attrs:{title:t.songName.length<40?t.songName:t.songName.slice(0,40)+"...",label:(t.artists+" - "+t.alName).length<40?t.artists+" - "+t.alName:(t.artists+" - "+t.alName).slice(0,40)+"...",to:"/player?id="+t.id,center:"",clickable:""},scopedSlots:e._u([{key:"right-icon",fn:function(){return[n("van-icon",{attrs:{name:"play-circle-o",size:"22"}})]},proxy:!0}],null,!0)})})),1)],1)}),J=[],Q=n("0cea"),X=Q["a"],Y=(n("72dc"),Object(E["a"])(X,G,J,!1,null,"18899b52",null)),Z=Y.exports,ee={name:"Rec",data:function(){return{banners:"",recMusicList:"",LatstMusicList:["hello"]}},created:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$ajax.getBanners(),r=e.$ajax.getRecMusicList(),t.next=4,n;case 4:return e.banners=t.sent,t.next=7,r;case 7:e.recMusicList=t.sent;case 8:case"end":return t.stop()}}),t)})))()},components:{PlayList:Z}},te=ee,ne=(n("3148"),Object(E["a"])(te,z,F,!1,null,"26b33446",null)),re=ne.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"toplist"}},[r("div",{staticClass:"header"},[r("van-image",{attrs:{src:n("eb4f")}})],1),r("PlayList",{attrs:{requestName:"getLatstMusicList"}})],1)},se=[],ce={name:"Toplist",components:{PlayList:Z}},ue=ce,ie=(n("bfc2"),Object(E["a"])(ue,ae,se,!1,null,"6fa233fa",null)),oe=ie.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"search"}},[n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{placeholder:"搜索歌曲、歌手、专辑",shape:"round",autofocus:""},on:{search:e.onSearch,input:e.onInput,focus:e.onFocus},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}]},[n("van-cell-group",{attrs:{title:"热门搜索"}},e._l(e.hotSearch,(function(t,r){return n("van-tag",{key:"tags-"+r,staticClass:"hot-tag",attrs:{type:"default",size:"large",plain:"",round:""},on:{click:function(n){return e.clickTag(t)}}},[e._v(e._s(t))])})),1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.value&&e.showSuggest,expression:"value && showSuggest"}]},e._l(e.suggest,(function(t,r){return n("van-cell",{key:"item+"+r,attrs:{title:t.keyword,size:"large"},on:{click:function(n){return e.clickSuggest(t.keyword)}}})})),1),e.value&&e.showSearchResult?n("PlayList",{attrs:{requestName:"getSearchRes",searchVal:e.value}}):e._e()],1)},_e=[],fe={name:"Search",components:{PlayList:Z},data:function(){return{value:"",hotSearch:[],suggest:[],showSuggest:!1,showSearchResult:!1}},created:function(){this.getHotSearch()},methods:{onSearch:function(e){this.showSuggest=!1,this.showSearchResult=!0},onInput:function(e){e&&this.getSuggest(e)},onFocus:function(){this.showSuggest=!0,this.showSearchResult=!1},clickTag:function(e){this.value=e,this.showSuggest=!1,this.showSearchResult=!0},getHotSearch:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$ajax.getHotSearch();case 2:e.hotSearch=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getSuggest:function(e){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$ajax.getSuggest(e);case 2:t.suggest=n.sent;case 3:case"end":return n.stop()}}),n)})))()},clickSuggest:function(e){this.value=e,this.showSuggest=!1,this.showSearchResult=!0}}},he=fe,pe=(n("df29"),Object(E["a"])(he,le,_e,!1,null,"8422a390",null)),me=pe.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tabbar"}},[n("van-tabbar",{attrs:{"active-color":"#ee0a24",placeholder:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{name:"home",icon:"home-o",replace:"",to:"/home"}},[e._v("首页")]),n("van-tabbar-item",{attrs:{name:"my",icon:"friends-o",replace:"",to:"/my"}},[e._v("我的")])],1)],1)},ge=[],ve=(n("fb6a"),{name:"Tabbar",components:{},data:function(){return{active:"home"}},created:function(){var e=this.$route.path.slice(1);this.active=e}}),be=ve,we=Object(E["a"])(be,de,ge,!1,null,"bd050e64",null),ye=we.exports,xe={name:"Home",components:{Header:I,Footer:W,Rec:re,Toplist:oe,Search:me,Tabbar:ye},data:function(){return{active:0}}},Oe=xe,ke=Object(E["a"])(Oe,P,T,!1,null,"9e6b98a0",null),je=ke.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my"},[n("Header"),n("Tabbar")],1)},Ee=[],Le={name:"My",components:{Tabbar:ye,Header:I}},Me=Le,Se=Object(E["a"])(Me,Re,Ee,!1,null,null,null),Pe=Se.exports;x["a"].use(S["a"]);var Te=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:je},{path:"/my",name:"My",component:Pe}],Ce=new S["a"]({routes:Te}),De=Ce,$e=n("2f62");x["a"].use($e["a"]);var Ne=new $e["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ae=(n("99af"),n("b0c0"),n("bc3a")),Ie=n.n(Ae),qe=Ie.a.create({baseURL:"https://cloud-music-api-eight.vercel.app/"});qe.interceptors.response.use((function(e){return 200===e.status?e.data:"错误！code：".concat(e.status," 状态声明：").concat(e.statusText)}));var Be=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/banner?type=2");case 2:if(t=e.sent,200!==t.code){e.next=5;break}return e.abrupt("return",t.banners);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/personalized?limit=6");case 2:return t=e.sent,e.abrupt("return",t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/personalized/newsong");case 2:return t=e.sent,n=t.result.reduce((function(e,t){var n=t.name,r=t.id,a=t.song,s=a.album.name,c=a.album.artists.reduce((function(e,t){return e+t.name+"/"}),"");return c=c.substring(0,c.length-1),e.concat({songName:n,id:r,alName:s,artists:c})}),[]),e.abrupt("return",{hasMore:"",count:"",list:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/search/hot");case 2:return t=e.sent,n=t.result.hots.reduce((function(e,t){return e.concat(t.first)}),[]),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qe.get("/search/suggest?keywords=".concat(t,"&type=mobile"));case 2:return n=e.sent,r=n.result.allMatch,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,c,u,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,r=o.length>2&&void 0!==o[2]?o[2]:20,e.next=4,qe.get("/search?keywords=".concat(t,"&offset=").concat(n,"&limit=").concat(r));case 4:return a=e.sent,s=a.result,c=s.hasMore,u=s.songCount,i=a.result.songs.reduce((function(e,t){var n=t.name,r=t.id,a=t.album,s=t.artists,c=a.name;return s=s.reduce((function(e,t){return e+t.name+"/"}),""),s=s.substring(0,s.length-1),e.concat({songName:n,id:r,alName:c,artists:s})}),[]),e.abrupt("return",{hasMore:c,songCount:u,list:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe={getBanners:Be,getRecMusicList:Ue,getLatstMusicList:He,getHotSearch:Ke,getSuggest:We,getSearchRes:ze};x["a"].config.productionTip=!1,x["a"].use(r["a"]).use(a["a"]).use(s["a"]).use(c["a"]).use(u["a"]).use(i["a"]).use(o["a"]).use(l["a"]).use(_["a"]).use(f["a"]).use(h["a"]).use(p["a"]).use(m["a"]).use(d["a"]).use(g["a"]).use(v["a"]).use(b["a"]).use(w["a"]).use(y["a"]),x["a"].prototype.$ajax=Fe,new x["a"]({router:De,store:Ne,render:function(e){return e(M)}}).$mount("#app")},"6b8a":function(e,t,n){e.exports=n.p+"img/logo-big.0c646b0c.png"},"72dc":function(e,t,n){"use strict";n("0c18")},"7c55":function(e,t,n){"use strict";n("2395")},"82ce":function(e,t,n){},"933a":function(e,t,n){},be47:function(e,t,n){},bfc2:function(e,t,n){"use strict";n("be47")},d635:function(e,t,n){},df29:function(e,t,n){"use strict";n("d635")},eb4f:function(e,t,n){e.exports=n.p+"img/hot_music_bg_2x.33448d05.png"}});
//# sourceMappingURL=app.27b46f5a.js.map